"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[592],{4885:(O,f,c)=>{function t(s){this.message=s}c.d(f,{e:()=>y}),(t.prototype=new Error).name="InvalidCharacterError";var _=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(s){var l=String(s).replace(/=+$/,"");if(l.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var p,g,x=0,m=0,e="";g=l.charAt(m++);~g&&(p=x%4?64*p+g:g,x++%4)?e+=String.fromCharCode(255&p>>(-2*x&6)):0)g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(g);return e};function i(s){this.message=s}(i.prototype=new Error).name="InvalidTokenError";var u=c(6530),C=c(8256),v=c(6237);let y=(()=>{class s{constructor(p){this.router=p,this.user=null;let g=u.p.get("auth_token");console.log(g),this.user=g?function n(s,l){if("string"!=typeof s)throw new i("Invalid token specified");var p=!0===(l=l||{}).header?0:1;try{return JSON.parse(function d(s){var l=s.replace(/-/g,"+").replace(/_/g,"/");switch(l.length%4){case 0:break;case 2:l+="==";break;case 3:l+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(_(l).replace(/(.)/g,function(g,x){var m=x.charCodeAt(0).toString(16).toUpperCase();return m.length<2&&(m="0"+m),"%"+m}))}catch{return _(l)}}(s.split(".")[p]))}catch(g){throw new i("Invalid token specified: "+g.message)}}(g):null}getUser(){return this.user}signIn(){}signUp(){}logout(){this.user=null,u.p.remove("auth_token"),this.router.navigate(["/auth/login"])}}return s.\u0275fac=function(p){return new(p||s)(C.LFG(v.F0))},s.\u0275prov=C.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2175:(O,f,c)=>{c.d(f,{N:()=>_});var t=c(8256);let _=(()=>{class d{constructor(){this.cart=[],this.totalAmount=0,this.discountAmount=0}getCart(){return this.cart}getTotalAmount(){return this.totalAmount}getDiscountAmount(){return this.discountAmount}addProduct(n){this.cart.push(n),this.calculateTotalAmount()}getIndexByProductId(n){return this.cart.findIndex(({id:r})=>r===n)}getProductById(n){return this.cart.find(({id:r})=>r===n)}removeProduct(n){let r=this.getIndexByProductId(n);-1!==r&&(this.cart.splice(r,1),this.calculateTotalAmount())}updateQuantity(n,r){let u=this.getIndexByProductId(n);-1!==u&&("increase"===r?this.cart[u].quantity+=1:1===this.cart[u].quantity?this.removeProduct(n):this.cart[u].quantity-=1,this.calculateTotalAmount())}calculateTotalAmount(){let n=0,r=0;for(let{discountPrice:u,price:C,quantity:v}of this.cart)n+=u*v,r+=(C-u)*v;this.totalAmount=n,this.discountAmount=r}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2420:(O,f,c)=>{c.d(f,{M:()=>d});var t=c(8256),_=c(529);let d=(()=>{class i{constructor(r){this.http=r,this.baseUrl="https://dummyjson.com",this.allProductsUrl=this.baseUrl+"/products",this.searchProductUrl=this.baseUrl+"/products/search"}getProducts(r=1){return this.http.get(this.allProductsUrl,{params:{page:r,limit:30}})}getProductById(r){return this.http.get(this.allProductsUrl+"/"+r)}searchProducts(r,u=1){return this.http.get(this.searchProductUrl,{params:{q:r,page:u,limit:30}})}}return i.\u0275fac=function(r){return new(r||i)(t.LFG(_.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},1379:(O,f,c)=>{c.d(f,{G:()=>m});var t=c(8256),_=c(4885),d=c(2175),i=c(6895),n=c(6237),r=c(6530),u=c(2420);function C(e,h){if(1&e){const o=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){const P=t.CHM(o).$implicit,S=t.oxw(3);return t.KtG(S.handleClick(P.id))}),t._UZ(1,"img",9),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&e){const o=h.$implicit;t.xp6(1),t.Q6J("src",o.thumbnail,t.LSH),t.xp6(2),t.Oqu(o.title)}}function v(e,h){if(1&e&&(t.ynx(0),t.YNc(1,C,4,2,"div",7),t.BQk()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.products)}}function y(e,h){1&e&&(t.TgZ(0,"span",10),t._uU(1,"Sorry! No Product Found"),t.qZA())}function s(e,h){if(1&e&&(t.TgZ(0,"div",4),t.YNc(1,v,2,1,"ng-container",5),t.YNc(2,y,2,0,"ng-template",null,6,t.W1O),t.qZA()),2&e){const o=t.MAs(3),a=t.oxw();t.xp6(1),t.Q6J("ngIf",0!==a.products.length)("ngIfElse",o)}}function l(e,h){if(1&e){const o=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){t.CHM(o);const M=t.oxw();return t.KtG(M.resetSearch())}),t.qZA()}}let p=(()=>{class e{constructor(o,a){this.productService=o,this.router=a,this.search="",this.products=[],this.handleSearch=(0,r.D)(M=>{let P=M.target.value;this.search=P,this.productService.searchProducts(P).subscribe(({products:S})=>{this.products=S})},500)}resetSearch(){this.search="",this.products.length=0}handleClick(o){this.router.navigate(["/product",o,"detail"]),this.resetSearch()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.M),t.Y36(n.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["search-box"]],decls:4,vars:2,consts:[[1,"search-box"],["placeholder","Search for products",3,"input"],["class","suggestions",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"suggestions"],[4,"ngIf","ngIfElse"],["notFound",""],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[3,"src"],[1,"not-found"],[1,"overlay",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"input",1),t.NdJ("input",function(P){return a.handleSearch(P)}),t.qZA(),t.YNc(2,s,4,2,"div",2),t.qZA(),t.YNc(3,l,1,0,"div",3)),2&o&&(t.xp6(2),t.Q6J("ngIf",a.products.length||a.search.length),t.xp6(1),t.Q6J("ngIf",a.search.length))},dependencies:[i.sg,i.O5],styles:[".search-box[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;height:45px;z-index:3}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:75%;height:100%;background-color:#f1f3f4;border-radius:6px;border:none;padding:0 15px;font-size:16px;outline:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:rgb(255,255,255);box-shadow:0 1px 1px #4145494d,0 1px 3px 1px #41454926}.search-box[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;position:absolute;top:45px;left:50%;transform:translate(-50%);width:75%;max-height:300px;overflow-y:auto;background-color:#fff;box-shadow:0 0 4px #00000040;padding:15px 0}.search-box[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:0 15px;cursor:pointer}.search-box[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.search-box[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.search-box[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{display:block;text-align:center;font-size:18px;padding:15px 0}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;inset:0;background-color:#00000080;z-index:2}"]}),e})();function g(e,h){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",o.count,"")}}const x=function(){return["/auth/login"]};let m=(()=>{class e{constructor(o,a){this.authService=o,this.cartService=a,this.products=[]}get total(){return this.cartService.getTotalAmount()}get count(){return this.cartService.getCart().length}get user(){return this.authService.getUser()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(_.e),t.Y36(d.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header"]],decls:14,vars:4,consts:[[1,"logo"],["routerLink","/product/all"],[1,"options"],["routerLink","/cart",1,"cart"],["src","assets/images/cart_icon.svg"],[4,"ngIf"],[1,"user",3,"routerLink"],["src","assets/images/profile_icon.svg"]],template:function(o,a){1&o&&(t.TgZ(0,"header")(1,"div",0)(2,"a",1)(3,"b"),t._uU(4,"Electronice Store"),t.qZA()()(),t._UZ(5,"search-box"),t.TgZ(6,"div",2)(7,"a",3),t._UZ(8,"img",4),t.YNc(9,g,2,1,"span",5),t.qZA(),t.TgZ(10,"a",6),t._UZ(11,"img",7),t.TgZ(12,"span"),t._uU(13),t.qZA()()()()),2&o&&(t.xp6(9),t.Q6J("ngIf",a.count),t.xp6(1),t.Q6J("routerLink",a.user?null:t.DdM(3,x)),t.xp6(3),t.Oqu(a.user?a.user.name:"Login"))},dependencies:[i.O5,n.rH,p],styles:["header[_ngcontent-%COMP%]{position:sticky;top:0;display:grid;grid-template-columns:.3fr 1fr .3fr;background-color:#32aeb1;align-items:center;height:75px;padding:0 15px;z-index:2}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:28px;color:#fff}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:flex-end;gap:25px}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{position:relative;cursor:pointer}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-2px;right:0;background:#ee4380;border-radius:6.5px;color:#fff;font-size:10px;height:15px;padding:0;text-align:center;width:17px}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;cursor:pointer}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}header[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:16px}"]}),e})()},4466:(O,f,c)=>{c.d(f,{m:()=>i});var t=c(6895),_=c(6237),d=c(8256);let i=(()=>{class n{}return n.\u0275fac=function(u){return new(u||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[t.ez,_.Bz]}),n})()}}]);